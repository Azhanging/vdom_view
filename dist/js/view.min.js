/*!
 * 
 * 			View.js v1.2.0
 * 			(c) 2016-2017 Blue
 * 			Released under the MIT License.
 * 		
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("View",[],t):"object"==typeof exports?exports.View=t():e.View=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./dist",t(t.s=20)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return document.getElementById(e)}function o(e){if(""!==e){var t=[],n=e.replace(/\{\{.*?\}\}/g,"||data||"),i=e.match(/(\{\{.*?\}\})/g);t=n.split("||");for(var r=0;r<t.length;r++){var o=t.indexOf("data");-1!==o&&(t[o]=i.shift())}return t}return[]}function a(e){return e.map(function(e,t){if(/\{\{\S+\}\}/.test(e))return e.replace(/(\{)?(\})?/g,"")}).filter(function(e){return void 0!=e})}function _(e){return-1!==e.indexOf(" ")?e.replace(/\{\{ */g,"{{").replace(/ *\}\}/g,"}}"):e}function s(e){var t=e,n=[];e.match(/\'(.*?)\'|\"(.*?)\"/g)&&e.match(/\'(.*?)\'|\"(.*?)\"/g).forEach(function(e){n.push(e),t=t.replace(e,"_____string_____")}),t=t.replace(/\[/g,".").replace(/\]/g,"");for(var i=t.split("_____"),r=0;r<i.length;r++){var o=i.indexOf("string");-1!==o&&(i[o]=n.shift().replace(/\'|\"/g,""))}return i.join("")}function c(e){for(var t="\\/*.?+$^[](){}|",n=0;n<t.length;n++)e=e.replace(new RegExp("\\"+t[n],"g"),"\\"+t[n]);return e}function l(e,t){var t=t||(e instanceof Array?[]:{});for(var n in e)"object"!==g(e[n])||e[n].nodeType?t[n]=e[n]:(t[n]=e[n].constructor===Array?[]:{},l(e[n],t[n]));return t}function u(e){return void 0!=e.$index||null!=e.$index?e.$index:e.dataset.index?e.dataset.index:e.id!=this.$element&&u.call(this,e.parentNode)}function f(e){-1==this.__ob__.bind.indexOf(e)&&void 0!==e&&this.__ob__.bind.push(e)}function d(e){e.$scope||(e.$scope=Object.create(h.call(this,e)))}function h(e){if(this.el===e)return this.data;if(e.$scope)return e.$scope;var t=e.parentNode;return null!==t?t.$scope?t.$scope:h.call(this,t):void 0}function p(e){try{return e.firstElementChild}catch(i){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1===n.nodeType)return n}}}function v(e){for(var t=0;t<e.attributes.length;t++)if(/_v-for/.test(e.attributes[t].name))return!0;return!1}function y(e,t){var n=new O(e,t);return this.el===e?void 0!==this.data[t]?t:"__key__":e.__keyLine__&&n.hasKeyLine()?n.getKeyLine():y.apply(this,[e.parentNode,t])}function b(e){var t=this;if(-1!=e.indexOf("."))for(var n=e.split("."),i=0,r=n.length;i<r;i++)m(this.updateList,n.join("."))&&(this.updateList.push(n.join(".")),n.pop());else m(this.updateList,e)&&this.updateList.push(e);Object.keys(this.__ob__.bind).forEach(function(n){var i=t.__ob__.bind[n];-1!=i.indexOf(e+".")&&m(t.updateList,i)&&t.updateList.push(i)})}function m(e,t){return-1===e.indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=function(){function e(t){i(this,e),this.expr=t,this._expr=t,this.strings=[],this.bindKeys=[],this.keyword=["undefined","null","true","false"],this.filter=[],this._init()}return x(e,[{key:"_init",value:function(){var e=this,t=this.expr.match(/\'(.*?)\'|\"(.*?)\"/g);t&&t.forEach(function(t){e.strings.push(t),e._expr=e._expr.replace(t,"_____string_____")}),this._expr=this._expr.replace(/\|{2}/,"______");var n=this._expr.split("|");this._expr=n[0],n.length>1&&(this.filter=n[1].split(" ").filter(function(e){return e.trim()})),this._expr=this._expr.replace(/______/,"||");var i=this._expr.match(/([^!][_$A-z\d]+\()/g);i&&this.unique(i).forEach(function(t){t=t.trim(),e._expr=e._expr.replace(new RegExp(c(t),"g"),"$fn."+t)});var r=this._expr.split(/\+|-|\*|\/|:|\?|\(|\)|,|!|&{2}|\|{2}|\[|\]|=/g).map(function(e){return e.trim()}),o=r.sort().reverse();this.unique(o).forEach(function(t){if(""!==t&&!/^\$fn\.|^\$scope\.|^_____string_____\S*?/g.test(t)&&!/^\d*$/.test(t)&&-1===e.keyword.indexOf(t)){var n=c(t),i=new RegExp("(\\+|-|\\*|\\/|\\(|\\!|:|\\?|=|\\[|\\s{1,}|,|&{2}|\\|{2})"+n,"g"),r=new RegExp("^"+n,"g");e.bindKeys.push(e.getBindHasStringIndex(e.unique(o),t)),r.test(e._expr)&&(e._expr=e._expr.replace(r,RegExp.$1+"$scope."+t)),i.test(e._expr)&&(e._expr=e._expr.replace(i,RegExp.$1+"$scope."+t))}});for(var a=this._expr.split("_____"),_=0;_<a.length;_++){var s=a.indexOf("string");-1!==s&&(a[s]=this.strings.shift())}this._expr=a.join("")}},{key:"getKeys",value:function(){return this.bindKeys}},{key:"getExpr",value:function(){return this._expr}},{key:"getFilter",value:function(){return this.filter}},{key:"unique",value:function(e){var t=[];return e.forEach(function(e){-1!==t.indexOf(e)&&"_____string_____"!==e||t.push(e)}),t}},{key:"getBindHasStringIndex",value:function(e,t){var n=[];e.forEach(function(e){/_____string_____/.test(e)&&n.push(e)});var i=n.indexOf(t);return-1!==i?t.replace(/_____string_____/g,this.strings[i]):t}}]),e}(),E=function(){function e(t,n){i(this,e),this.element=n,this.context=t}return x(e,[{key:"setCache",value:function(){this.element.cache instanceof Object||(this.element.__cache__={},this.context.cache.push(this.element))}},{key:"removeCache",value:function(){this.context.cache.forEach(function(e){e.__cache__ instanceof Object||null===e.parentNode?e.__cache__={}:e.parentNode.__cache__={}})}}]),e}(),O=function(){function e(t,n){i(this,e),this.keyLine=n,this.element=t}return x(e,[{key:"hasKeyLine",value:function(){if(/\./g.test(this.keyLine)){var e=this.keyLine.split("."),t=e[0];return void 0!==this.element.__keyLine__[t]}return!!this.element.__keyLine__[this.keyLine]}},{key:"getKeyLine",value:function(){if(/\./g.test(this.keyLine)){var e=this.keyLine.split("."),t=e[0];return e[0]=this.element.__keyLine__[t],e.join(".")}return this.element.__keyLine__[this.keyLine]}}]),e}();t.getEl=r,t.disassembly=o,t.getDisassemblyKey=a,t.ResolveExpr=k,t.deepCopy=l,t.getIndex=u,t.setBind=f,t.setScope=d,t.getScope=h,t.trim=_,t.getFirstElementChild=p,t.resolveKey=s,t.initRegExp=c,t.hasForAttr=v,t.ElementCache=E,t.findKeyLine=y,t.setDep=b},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,r){i(this,e),this.data=t,this.filter=n,this.view=r}return r(e,[{key:"runFilter",value:function(){var e=this;return this.filter.forEach(function(t){e.data=View.filter[t](e.data)}),this.data}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15);Object.defineProperty(t,"domUpdate",{enumerable:!0,get:function(){return i.domUpdate}});var r=n(14);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function i(e){for(var t=e.attributes,n=0;n<Object.keys(e.attributes).length;n++){var i=t[n]?t[n].name:"",o=t[n]?t[n].value:"";/@.?/.test(i)&&(e.removeAttribute(i),n-=1,r.apply(this,[e,i,o]))}}function r(e,t,n){var i=this,r=this,o=n.replace(/\(+\S+\)+/g,"");if(t=t.replace("@",""),this[o])if(n.match(/\(\S+\)/)instanceof Array){var _=n.match(/\(\S+\)/)[0].replace(/\(?\)?/g,"").split(",");e.addEventListener(t,function(t){var n=this,i=_.map(function(i,o){return"$index"===i?a.getIndex.call(r,e):"$event"===i?t:r.expr(i,n).toString()});r[o].apply(r,i)},!1)}else e.addEventListener(t,function(e){i[o].call(i,e)},!1)}function o(e){var t=this,n=e.childNodes;Object.keys(n).forEach(function(e){var r=n[e];1==r.nodeType&&(r.childNodes.length>0&&o.call(t,r),i.call(t,r))})}Object.defineProperty(t,"__esModule",{value:!0}),t.setEventHandler=t.setChildTemplateEvent=t.setEvent=void 0;var a=n(0);t.setEvent=i,t.setChildTemplateEvent=o,t.setEventHandler=r},function(e,t,n){"use strict";function i(e,t){t=(0,_.trim)(t);var n=this,i=e.tagName.toLocaleLowerCase(),o=e.type;/input|textarea|select/.test(i)&&(r.apply(this,[t,e]),_.setBind.call(this,t),/text|number|tel|email|url|search|textarea/.test(o)?e.addEventListener("keyup",function(i){if(32==i.keyCode||34==i.keyCode||8==i.keyCode||i.keyCode>=65&&i.keyCode<=90||i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||i.keyCode>=186&&i.keyCode<=222){var r=this.value;n._set(e,t,r)}}):/checkbox|radio/.test(o)?e.addEventListener("change",function(){return/checkbox/.test(o)?function(i){var r=[],o=e.form;n.__ob__.model[t].forEach(function(e){e.form==o&&e.checked&&r.push(e.value)}),n._set(e,t,r)}:/radio/.test(o)?function(i){var r=e.form,o="";n.__ob__.model[t].forEach(function(e){if(e.form==r&&e.checked)return void(o=e.value)}),n._set(e,t,o)}:void 0}()):/select-one|select-multiple/.test(o)&&e.addEventListener("change",function(i){for(var r=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes;1===a[o].nodeType&&"OPTION"===a[o].nodeName&&a[o].selected&&r.push(a[o].value)}n._set(e,t,r)}))}function r(e,t){this.__ob__.model[e]instanceof Array||(this.__ob__.model[e]=[]),this.__ob__.model[e].push(t)}function o(e){function t(e){var t=this,n=this.__ob__.model[e];Object.keys(n).forEach(function(i,r){var o=n[i],_=t._get(e,o);a.apply(t,[o,e,_])})}var n=this;if(void 0===e||""===e)Object.keys(this.__ob__.model).forEach(function(e,i){t.call(n,e)});else{if(!this.__ob__.model[e])return;t.call(this,e)}}function a(e,t,n){var i=this;if(null!=n){var r=e.type;if(/checkbox|radio/.test(r)){var o=[];e.name;this.__ob__.model[t].forEach(function(e){-1===o.indexOf(e.form)&&o.push(e.form)}),o.forEach(function(e){i.__ob__.model[t].forEach(function(t){if(t.form==e){n=isNaN(n)?n:n.toString();for(var i=Object.keys(n),r=0;r<i.length;r++){if(t.value==n[i[r]]){t.checked=!0;break}t.checked=!1}}})})}else if(/select-one|select-multiple/.test(r))for(var a=0;a<e.childNodes.length;a++){var _=e.childNodes;if(n.length>0)for(var s=0;s<n.length;s++){if(1===_[a].nodeType&&"OPTION"===_[a].nodeName&&_[a].value==n[s]){_[a].selected=!0;break}_[a].selected=!1}else for(var c=0;c<_.length;c++)_[c].selected=!1}else e.value=n}}Object.defineProperty(t,"__esModule",{value:!0}),t.modelUpdate=t.formElements=t.setModel=void 0;var _=n(0);t.setModel=i,t.formElements=a,t.modelUpdate=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11);Object.defineProperty(t,"setAttr",{enumerable:!0,get:function(){return i.setAttr}});var r=n(12);Object.defineProperty(t,"attrUpdate",{enumerable:!0,get:function(){return r.attrUpdate}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var r=n(17);Object.defineProperty(t,"forUpdate",{enumerable:!0,get:function(){return r.forUpdate}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18);Object.defineProperty(t,"setIf",{enumerable:!0,get:function(){return i.setIf}});var r=n(19);Object.defineProperty(t,"ifUpdate",{enumerable:!0,get:function(){return r.ifUpdate}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(23);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var r=n(24);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),_=n(13),s=i(_),c=n(5),l=(n(3),n(0)),u=0,f=2,d=3,h=function(){function e(t){r(this,e),this.id=0,this.elementList={},this.context=t}return o(e,[{key:"render",value:function(e){var t=this,n=void 0;return e.tagName?(n=document.createElement(e.tagName),Object.keys(e.props).forEach(function(t){var i=e.props[t];n.setAttribute(t,i)}),Object.keys(e.childrens).forEach(function(i){var r=e.childrens[i],o=void 0;o=r instanceof Object?t.render(r):document.createTextNode(r),n.appendChild(o)})):n=document.createTextNode(e.textContent),n}},{key:"resolve",value:function(e,t){var n=void 0;if(1===e.nodeType){t.components[e.tagName.toLowerCase()]&&e.tagName.indexOf("-")>-1&&(e=s.default.call(t,e)),n={tagName:e.tagName.toLowerCase(),props:{},childrens:[],index:this.id,el:e},l.setScope.call(t,e),new l.ElementCache(t,e).setCache();if(!c.setAttr.call(t,e,n))for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];1!==r.nodeType&&3!==r.nodeType||(this.id++,n.childrens.push(this.resolve(r,t)))}}else 3===e.nodeType&&(a.setDom.call(t,e),new l.ElementCache(t,e).setCache(),n={textContent:e.textContent,index:this.id,el:e});return this.elementList[n.index]=n,0==n.id&&(this.id=0),n}},{key:"diff",value:function(e,t){var n=[];return this.diffTag(e,t,n),n}},{key:"diffTag",value:function(e,t,n){if(e.textContent)this.diffTextNode(e,t,n);else{var i=this.diffProps(e,t);e.tagName!=t.tagName?n.push({type:u,node:t,index:e.index}):Object.keys(i.props).length>0&&n.push(i),e.childrens.length>0&&this.diffChildNode(e,t,n)}}},{key:"diffProps",value:function(e,t){var n={};return Object.keys(t.props).forEach(function(i){var r=t.props[i];Reflect.has(e.props,i)&&e.props[i]!==r?n[i]=r:Reflect.has(e.props,i)||(n[i]=t.props[i])}),{type:f,props:n,index:e.index}}},{key:"diffTextNode",value:function(e,t,n){e.textContent!=t.textContent&&n.push({type:d,content:t.textContent,index:e.index})}},{key:"diffChildNode",value:function(e,t,n){var i=this;e.childrens.forEach(function(e,r){i.diffTag(e,t.childrens[r],n)})}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_=n(22),s=i(_),c=n(21),l=i(c),u=n(9),f=i(u),d=n(0),h=n(2),p=n(5),v=n(8),y=n(7),b=n(6),m=n(25),g=n(3),x=n(4),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:options,n=t.el,i=void 0===n?"":n,o=(t.template,t.data),a=void 0===o?{}:o,_=t.methods,s=void 0===_?{}:_,c=t.components,l=void 0===c?{}:c,u=t.watch,f=void 0===u?{}:u,h=t.init,p=void 0===h?function(){}:h,v=t.created,y=void 0===v?function(){}:v,b=t.ready,m=void 0===b?function(){}:b;if(r(this,e),this.$element=i,this.data=a,i&&"null"!=typeof(0,d.getEl)(i)?(this.el=(0,d.getEl)(i),this.isTemplate=!1,"TEMPLATE"==this.el.tagName&&(this.el=(0,d.getFirstElementChild)(this.el.content?this.el.content:this.el),this.data.templateData=[],this.isTemplate=!0,this.data.$index=-1)):this.el="",this.methods=s,this.components=l,this.watch=f,this.init=p,this.created=y,this.ready=m,!this.el)return!1;this._init()}return a(e,[{key:"_init",value:function(){this.init(),this.config(),l.default.call(this),new s.default(this.data,void 0,this),this.vdom=(new f.default).resolve(this.el,this),h.createTextNodes.call(this),h.replaceTextNode.call(this),this.created(),this.update(),new d.ElementCache(this).removeCache(),this.ready()}},{key:"config",value:function(){this.__ob__={dom:{},attr:{},show:{},if:{},for:{},model:{},bind:[]},this.__bind__={textNodeLists:[],tempFragmentElements:[],templateIndex:0},this.cache=[],this.updateList=[]}},{key:"dep",value:function(e){d.setDep.call(this,e),console.log(this.updateList);for(var t=0;t<this.updateList.length;t++)this.update(this.updateList[t]);this.updateList=[],new d.ElementCache(this).removeCache(),this._update()}},{key:"update",value:function(e){m.watchUpdate.call(this,e),b.forUpdate.call(this,e),x.modelUpdate.call(this,e),p.attrUpdate.call(this,e),v.showUpdate.call(this,e),y.ifUpdate.call(this,e),h.domUpdate.call(this,e)}},{key:"_update",value:function(){m.watchUpdate.call(this),x.modelUpdate.call(this),p.attrUpdate.call(this),v.showUpdate.call(this),y.ifUpdate.call(this),h.domUpdate.call(this)}},{key:"_get",value:function(e,t){if(void 0==t||void 0===t.__cache__[e]){var n=void 0;if(n=t?d.getScope.call(this,t):this.data,/\./g.test(e)){var i=e.split(".");if(n){for(var r=0;r<i.length;r++){var o=i[r];try{var a=n[o];n=null!==n&&void 0!==a?a:null}catch(e){return null}}return t&&(t.__cache__[e]=n),n}return t&&(t.__cache__[e]=null),null}var _=n[e];return void 0!=_?(t&&(t.__cache__[e]=_),_):(t&&(t.__cache__[e]=null),null)}return t.__cache__[e]}},{key:"_set",value:function(e,t,n,i){var r=(this.data,t.split(".")),a=r.length;r[0];if(1!=a){var _=r[r.length-1];r.pop(),t=r.join(".");var s=void 0;s=e?this._get(t,e):this._get(t),null!==s&&(void 0!=i?s[_][i]=n:s[_]=n,"string"!=typeof n&&(s[_]=(0,d.deepCopy)(s[_])))}else{var c=void 0;c=e?this._get(t,e):this._get(t),null!==c&&(void 0!=i?c[i]=n:this.data[t]="object"==(void 0===n?"undefined":o(n))?(0,d.deepCopy)(n):n)}}},{key:"expr",value:function(e,t){var n=d.getScope.call(this,t),i=this.methods;return new Function("$scope","$fn","\n\t\t\treturn "+e+";\t\n\t\t").apply(this,[n,i])}},{key:"createTemplate",value:function(e,t){var n=this;if("string"==typeof t)t=document.getElementById(t);else if(1!==t.nodeType)return void console.warn("第二参数为添加节点的id或者为对应的节点对象");try{"string"==typeof e&&(e=e.split("")),Object.keys(e).forEach(function(i,r){n.el.$scope.$index++,n.data.templateData=e[i];var o=n.el.cloneNode(!0);o.setAttribute("data-index",n.__bind__.templateIndex++),t.appendChild(o),1==o.nodeType&&g.setEvent.call(n,o),g.setChildTemplateEvent.call(n,o)})}catch(e){console.warn("createTemplate方法中的第一个参数只能为的数组或者对象")}}},{key:"push",value:function(e,t){var n=(0,d.deepCopy)(this._get(e));Array.isArray(n)&&(Array.isArray(t)?t.forEach(function(e,t){n.push(e)}):n.push(t),this._set(void 0,e,n))}},{key:"pop",value:function(e){var t=(0,d.deepCopy)(this._get(e)),n="";return Array.isArray(t)&&(n=t.pop(),this._set(void 0,e,t)),n}},{key:"unshift",value:function(e,t){var n=(0,d.deepCopy)(this._get(e));Array.isArray(n)&&(Array.isArray(t)?t.forEach(function(e,t){n.unshift(e)}):n.unshift(t),this._set(void 0,e,n))}},{key:"shift",value:function(e){var t=(0,d.deepCopy)(this._get(e)),n="";return Array.isArray(t)&&(n=t.shift(),this._set(void 0,e,t)),n}},{key:"splice",value:function(e,t,n){var i=(0,d.deepCopy)(this._get(e));Array.isArray(i)&&(i.splice(t,n),this._set(void 0,e,i))}}],[{key:"setFilter",value:function(e,t){this.filter[e]=t}}]),e}();k.filter={trim:function(e){return e.replace(/(^ +)?( +$)?/g,"")},upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},length:function(e){return e.length},html:function(e){var t=document.createDocumentFragment(),n=document.createElement("div"),i=[];return n.innerHTML=e,Array.prototype.forEach.call(n.childNodes,function(e,n){t.appendChild(e.cloneNode(!0))}),Array.prototype.forEach.call(t.childNodes,function(e,t){i.push(e)}),i}},t.default=k},function(e,t,n){"use strict";function i(e,t){for(var n=this,i=(0,r.hasForAttr)(e),l=function(l){var f=e.attributes,d=f[l]?f[l].name:"",h=f[l]?f[l].value:"";if(/:.?/.test(d)&&!i){var p=new r.ResolveExpr(h),v=p.getExpr(),y=p.getFilter(),b=p.getKeys();e.removeAttribute(d),l-=1,d=d.replace(":",""),t.props[d]=v,b.forEach(function(t,i){t=r.findKeyLine.apply(n,[e,t]),n.__ob__.attr[t]||(n.__ob__.attr[t]=[],r.setBind.call(n,t)),e.__attrs__ instanceof Object||(e.__attrs__={}),e.__attrs__[d]instanceof Object||(e.__attrs__[d]={}),e.__attrs__[d].__bind__=v,e.__attrs__[d].__filter__=y,n.__ob__.attr[t].push(e)})}else if(/_v-.?/.test(d))switch(e.removeAttribute(d),l-=1,d=d.replace("_v-","")){case"for":_.setFor.call(n,e,h,l);break;case"show":if(i)break;o.setShow.call(n,e,h);break;case"if":if(i)break;a.setIf.call(n,e,d,h);break;case"model":if(i)break;c.setModel.call(n,e,h)}else/@.?/.test(d)&&(n.isTemplate||(e.removeAttribute(d),l-=1),s.setEventHandler.apply(n,[e,d,h]));u=l},u=0;u<e.attributes.length;u++)l(u);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttr=void 0;var r=n(0),o=n(8),a=n(7),_=n(6),s=n(3),c=n(4);t.setAttr=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=this;this.__ob__.attr[e].forEach(function(e,n){var i=e.__attrs__;Object.keys(i).forEach(function(n,r){var o=i[n].__bind__,_=new a.default(t.expr(o,e),i[n].__filter__).runFilter();e.setAttribute(n,_)})})}var n=this;if(void 0===e||""===e)Object.keys(this.__ob__.attr).forEach(function(e,i){t.call(n,e)});else{if(!this.__ob__.attr[e])return;t.call(this,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.attrUpdate=void 0;var o=n(1),a=i(o);n(4);t.attrUpdate=r},function(e,t,n){"use strict";function i(e){var t=e.nodeName.toLowerCase(),n=null!=(0,r.getEl)(this.components[t])?(0,r.getEl)(this.components[t]).innerHTML:this.components[t],i=e.cloneNode(!0),o=e.parentNode;i.innerHTML=n;var a=(0,r.getFirstElementChild)(i);return o.replaceChild(a,e),a}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=i},function(e,t,n){"use strict";function i(e){if(""!==e.textContent){var t=(0,s.disassembly)(e.textContent);this.__bind__.textNodeLists.push([t,e])}}function r(){var e=this;this.__bind__.textNodeLists.forEach(function(t,n){var i=_(t,2),r=i[0],a=i[1];o.call(e,r,a)}),this.__bind__.textNodeLists=[]}function o(e,t){for(var n=this,i=document.createDocumentFragment(),r=0;r<e.length;r++)""!==e[r].trim()&&function(){var o=document.createTextNode(e[r]);if(1==/\{\{.*?\}\}/.test(e[r])){var a=e[r].replace(/(\{)?(\})?/g,""),_=new s.ResolveExpr(a,o);_.getKeys().forEach(function(e){e=s.findKeyLine.apply(n,[t,e]),n.__ob__.dom[e]instanceof Array||(n.__ob__.dom[e]=[],s.setBind.call(n,e)),o.__dom__ instanceof Object||(o.__dom__={}),o.__dom__.__bind__=_.getExpr(),o.__dom__.__filter__=_.getFilter(),n.__ob__.dom[e].push(o)})}i.appendChild(o)}();this.__bind__.tempFragmentElements.push([t.parentNode,i,t])}function a(){this.__bind__.tempFragmentElements.forEach(function(e,t){var n=_(e,3),i=n[0],r=n[1],o=n[2];i.replaceChild(r,o)}),this.__bind__.tempFragmentElements=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceTextNode=t.createTextNodes=t.setDom=void 0;var _=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,_=e[Symbol.iterator]();!(i=(a=_.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&_.return&&_.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(0);t.setDom=i,t.createTextNodes=r,t.replaceTextNode=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this;if(void 0===e||""===e)Object.keys(this.__ob__.dom).forEach(function(e,n){o.call(t,e)});else{if(!this.__ob__.dom[e])return;o.call(this,e)}}function o(e){var t=this;this.__ob__.dom[e].forEach(function(e){var n=new l.default(t.expr(e.__dom__.__bind__,e),e.__dom__.__filter__).runFilter();n instanceof Array&&n.length>0&&a(n)?_(n,e):(s(e),e.textContent!=n&&(e.textContent=n))})}function a(e){for(var t=0;t<e.length;t++)if(e[t].nodeType)return!0;return!1}function _(e,t){s(t),e.forEach(function(e,n){e.htmlNode=!0,t.parentNode.insertBefore(e,t),t.appendNode=t.appendNode instanceof Array?t.appendNode:[],t.appendNode.push(e)}),""!==t.textContent&&(t.textContent="")}function s(e){if(null!=e.previousSibling&&e.previousSibling.htmlNode)for(var t=0,n=e.appendNode.length;t<n;t++){var i=e.appendNode.shift();e.parentNode.removeChild(i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.domUpdate=void 0;var c=n(1),l=i(c);t.domUpdate=r},function(e,t,n){"use strict";function i(e,t,n){var i=this,o=this,a=t.split(" in ")[0],_=t.split(" in ")[1],s=a.split(",")[0],c=a.split(",")[1];_=(0,r.trim)(_);var l=(0,r.resolveKey)(_),u=void 0;if(isNaN(l))u=this._get(l,e);else{for(var f=parseInt(l),d=[],h=0;h<f;h++)d.push(h);l="_____array_____",u=d,e.isNumFor=!0,e.__forValue__=u}var p=document.createTextNode(""),v=document.createTextNode(""),y=e.parentNode;y.insertBefore(p,e.nextSibling);var b=r.findKeyLine.apply(this,[e,_]);this.__ob__.for[b]||(this.__ob__.for[b]=[],r.setBind.call(this,b)),this.__ob__.for[b].push(e),e.__forElementGroup__=[],e.__parentNode__=y,e.__presentSeize__=p,e.__forItem__=s,e.__forKey__=c,e.__self__=e.cloneNode(!0),p.__element__=e;var m=document.createDocumentFragment(),g=void 0;g=null===u||void 0===u||""===u?[]:Object.keys(u),g.forEach(function(t,n){var i=e.cloneNode(!0);i.__for__={forItem:s,forKey:t,index:n,keyLine:l+"."+g[n],isAppend:!0},i.__keyLine__ instanceof Object||(i.__keyLine__={}),i.__keyLine__[s]=u.__keyLine__+"."+g[n],i.$index=n,e.__forElementGroup__.push(i),m.appendChild(i)}),y.replaceChild(v,e),y.insertBefore(m,p),e.__forElementGroup__.forEach(function(e){r.setScope.call(i,e),Object.defineProperty(e.$scope,e.__for__.forItem,{get:function(){var t=o._get(e.__for__.keyLine,e);return null!==t?t:/^_____array_____/.test(e.__for__.keyLine)?e.__for__.index+1:null}}),Object.defineProperty(e.$scope,"$index",{get:function(){return e.__for__.index}}),c&&Object.defineProperty(e.$scope,c,{get:function(){return e.__for__.forKey}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.setFor=void 0;var r=n(0);t.setFor=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this;if(void 0===e||""===e)Object.keys(this.__ob__.for).forEach(function(e,n){o.call(t,e)});else{if(!this.__ob__.for[e])return;o.call(this,e)}}function o(e){var t=this,n=new s.default,i=this,r="";this.__ob__.for[e].forEach(function(o){r=o.__forItem__;var _=t._get(e,o);null!==_&&""!==_&&void 0!==_||(_=[],o.isNumFor&&(_=o.__forValue__)),"string"==typeof _&&(_=_.split(""));var s=Object.keys(_).length,c=o.__forElementGroup__,l=c.length,u=document.createDocumentFragment();if(s==l){for(var f=0;f<l;f++)0==c[f].__for__.isAppend&&(c[f].__for__.isAppend=!0,u.appendChild(c[f]));o.__parentNode__.insertBefore(u,o.__presentSeize__)}else if(s<l){for(var d=document.createDocumentFragment(),h=s;h<l;h++)1==c[h].__for__.isAppend&&(c[h].__for__.isAppend=!1,u.appendChild(c[h]));for(var p=0;p<s;p++)0==c[p].__for__.isAppend&&(c[p].__for__.isAppend=!0,d.appendChild(c[p]));o.__parentNode__.insertBefore(d,o.__presentSeize__)}else if(s>l){for(var v=[],y=Object.keys(_),b=o,m=0;m<l;m++)0==c[m].__for__.isAppend&&(c[m].__for__.isAppend=!0,u.appendChild(c[m]));for(var g=l,x=y.length;g<x;g++){var k=o.__self__.cloneNode(!0);k.__for__={forItem:o.__forItem__,forKey:y[g],index:g,keyLine:e+"."+y[g],isAppend:!0},k.__keyLine__ instanceof Object||(k.__keyLine__={}),k.__keyLine__[o.__forItem__]=_.__keyLine__+"."+y[g],k.$index=g,o.__forElementGroup__.push(k),u.appendChild(k),v.push(k)}o.__parentNode__.insertBefore(u,o.__presentSeize__),v.forEach(function(e){t.updateList.push(e.__for__.keyLine),-1===t.updateList.indexOf("__key__")&&t.updateList.push("__key__"),n.resolve(e,t),Object.defineProperty(e.$scope,e.__for__.forItem,{get:function(){return i._get(e.__for__.keyLine,e)}}),Object.defineProperty(e.$scope,"$index",{get:function(){return e.__for__.index}}),b.__forKey__&&Object.defineProperty(e.$scope,b.__forKey__,{get:function(){return e.__for__.forKey}})}),a.createTextNodes.call(t),a.replaceTextNode.call(t)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.forUpdate=void 0;var a=n(2),_=(n(0),n(9)),s=i(_);t.forUpdate=r},function(e,t,n){"use strict";function i(e,t){var n=this;if(1===e.nodeType){var r=e.attributes;if(r.length>0)Object.keys(r).forEach(function(a,_){var s=r[_]?r[_].name:"",c=r[_]?r[_].value:"";if(/_v-.?/.test(s)){if("if"==(s=s.replace("_v-","")))return;if("elseif"==s||"else"==s){var l=new o.ResolveExpr(c),u=l.getKeys(),f=l.getExpr(),d=l.getFilter();if(u.forEach(function(i,r){i&&(i=o.findKeyLine.apply(n,[e,i]),i=(0,o.resolveKey)(i),n.__ob__.if[i]instanceof Array||(n.__ob__.if[i]=[],o.setBind.call(n,i)),n.__ob__.if[i].push(t))}),e.__if__="else"==s?{__bind__:"true",__filter__:d}:{__bind__:f,__filter__:d},t.push(e),e.nextSibling){var h=e.nextSibling;i.call(n,h,t)}}}});else if(e.nextSibling){var a=e.nextSibling;i.call(this,a,t)}}else if(e.nextSibling){var _=e.nextSibling;i.call(this,_,t)}}function r(e,t,n){var r=this,a=void 0,_=new o.ResolveExpr(n),s=_.getKeys(),c=_.getExpr(),l=_.getFilter();s.forEach(function(t,n){if(t=o.findKeyLine.apply(r,[e,t])){r.__ob__.if[t]instanceof Array||(r.__ob__.if[t]=[],o.setBind.call(r,t)),a=[],e.__if__={__bind__:c,__filter__:l};var _=document.createTextNode("");(e.parentNode?e.parentNode:e.__parentNode__).insertBefore(_,e.nextSibling),a.__seize__=_,a.push(e),e.nextSibling&&i.call(r,e.nextSibling,a),r.__ob__.if[t].push(a)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.setIf=void 0;var o=n(0);t.setIf=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=this,n=this.__ob__.if[e],i=document.createDocumentFragment();n.forEach(function(e,n){for(var r=e.__seize__,o=r.parentNode,_=0;_<e.length;_++){if(new a.default(t.expr(e[_].__if__.__bind__,e[_]),e[_].__if__.__filter__).runFilter()){e.forEach(function(e,t){t!=_&&i.appendChild(e)}),o.insertBefore(e[_],r);break}_==e.length-1&&e.forEach(function(e,t){i.appendChild(e)})}})}var n=this;if(void 0===e||""===e)Object.keys(this.__ob__.if).forEach(function(e,i){t.call(n,e)});else{if(!this.__ob__.if[e])return;t.call(this,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ifUpdate=void 0;var o=n(1),a=i(o);t.ifUpdate=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=n(10),s=i(_);!function(i,_){"object"===a(t)&&void 0!==e?e.exports=_():(r=_,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o))}("undefined"!=typeof window&&window,function(){return s.default.version="v1.1.2",s.default.versionDescription="",s.default})},function(e,t,n){"use strict";function i(){var e=this.methods;for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.methods.__proto__=window}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,r){i(this,e),this.element=t,this.view=r,this.bind(n)}return r(e,[{key:"bind",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isObject(this.element)){var i=this;Object.keys(this.element).forEach(function(r,o){var a=""==n?r:n+"."+r;t.isObject(t.element[r])&&(new e(t.element[r],a,i.view),Object.defineProperties(t.element[r],{__keyLine__:{enumerable:!1,configurable:!1,value:a}}));var _=t.element[r],s=i.view;Object.defineProperty(t.element,r,{enumerable:!0,configurable:!0,get:function(){return _},set:function(e){_!==e&&(!e.__keyLine__&&e instanceof Object&&Object.defineProperties(e,{__keyLine__:{enumerable:!1,configurable:!1,value:a}}),i.setVal(e,a,s),_=e,s.dep(a))}})})}}},{key:"isObject",value:function(e){return e instanceof Object||e instanceof Array}},{key:"setVal",value:function(t,n){this.isObject(t)&&new e(t,n,this.view)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){var n=this,i=new r.ResolveExpr(t),o=i.getKeys(),a=i.getExpr(),_=i.getFilter();o.forEach(function(t,i){t=r.findKeyLine.apply(n,[e,t]),n.__ob__.show[t]instanceof Array||(n.__ob__.show[t]=[],r.setBind.call(n,t)),e.__show__={__bind__:a,__filter__:_},n.__ob__.show[t].push(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.setShow=void 0;var r=n(0);t.setShow=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=this;this.__ob__.show[e].forEach(function(e,n){var i=new a.default(t.expr(e.__show__.__bind__,e),e.__show__.__filter__).runFilter();1==i||"ok"===i.toString().toLocaleLowerCase()?i="":0!=i&&"no"!==i.toString().toLocaleLowerCase()||(i="none"),e.style.display=i})}var n=this;if(void 0===e||""===e)Object.keys(this.__ob__.show).forEach(function(e,i){t.call(n,e)});else{if(!this.__ob__.show[e])return;t.call(this,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.showUpdate=void 0;var o=n(1),a=i(o);t.showUpdate=r},function(e,t,n){"use strict";function i(e){this.watch[e]&&"function"==typeof this.watch[e]&&this.watch[e].call(this,this._get(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.watchUpdate=i}])});